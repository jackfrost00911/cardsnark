<style>
  .snark-calc-container {
    border: 2px solid #ddd;
    border-radius: 8px;
    padding: 20px;
    max-width: 500px;
    margin: 20px auto;
    font-family: sans-serif;
    background-color: #f9f9f9; /* Light mode default */
  }

  .snark-calc-group {
    margin-bottom: 15px;
  }

  .snark-calc-group label {
    display: block;
    font-weight: bold;
    margin-bottom: 5px;
    font-size: 0.9em;
  }

  .snark-calc-group input {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
  }

  .snark-credits-section {
    background: #eef;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 15px;
  }

  .snark-credits-title {
    font-size: 0.85em;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #555;
    margin-bottom: 10px;
    border-bottom: 1px solid #ccc;
    padding-bottom: 5px;
  }

  .snark-result-box {
    text-align: center;
    padding: 20px;
    background: #333;
    color: #fff;
    border-radius: 6px;
    margin-top: 20px;
  }

  .result-value {
    font-size: 2.5em;
    font-weight: bold;
    display: block;
  }

  .result-verdict {
    font-style: italic;
    color: #ffd700; /* Gold */
    margin-top: 10px;
    display: block;
  }
  
  /* Dark mode support if your Jekyll theme uses it */
  @media (prefers-color-scheme: dark) {
    .snark-calc-container { background-color: #222; border-color: #444; color: #fff; }
    .snark-calc-group input { background-color: #333; color: #fff; border-color: #555; }
    .snark-credits-section { background-color: #2a2a2a; }
    .snark-credits-title { color: #aaa; }
  }
</style>

<div class="snark-calc-container">
  <h3 style="text-align:center; margin-top:0;">The "Am I Being Scammed?" Calculator</h3>
  
  <div class="snark-calc-group">
    <label for="annualFee">Annual Fee ($)</label>
    <input type="number" id="annualFee" placeholder="e.g. 695" oninput="calculateSnark()">
  </div>

  <div class="snark-credits-section">
    <div class="snark-credits-title">Credits You ACTUALLY Use (Annual Value)</div>
    
    <div class="snark-calc-group">
      <label>Dining / Uber Credits</label>
      <input type="number" class="credit-input" placeholder="0" oninput="calculateSnark()">
    </div>
    
    <div class="snark-calc-group">
      <label>Travel / Hotel Credits</label>
      <input type="number" class="credit-input" placeholder="0" oninput="calculateSnark()">
    </div>
    
    <div class="snark-calc-group">
      <label>Streaming / Other Perks</label>
      <input type="number" class="credit-input" placeholder="0" oninput="calculateSnark()">
    </div>
  </div>

  <div class="snark-result-box" id="resultBox">
    <span>Effective Annual Fee:</span>
    <span class="result-value" id="effectiveFee">--</span>
    <span class="result-verdict" id="verdictText">Enter your numbers...</span>
  </div>
</div>

<script>
  function calculateSnark() {
    // 1. Get Annual Fee
    const fee = parseFloat(document.getElementById('annualFee').value) || 0;
    
    // 2. Sum up all credits
    const creditInputs = document.querySelectorAll('.credit-input');
    let totalCredits = 0;
    creditInputs.forEach(input => {
      totalCredits += parseFloat(input.value) || 0;
    });

    // 3. Calculate Effective Fee
    const effective = fee - totalCredits;
    const resultElement = document.getElementById('effectiveFee');
    const verdictElement = document.getElementById('verdictText');
    const box = document.getElementById('resultBox');

    // 4. Update UI
    if (effective > 0) {
      // Losing money
      resultElement.innerText = "-$" + Math.abs(effective);
      resultElement.style.color = "#ff6b6b"; // Red
      verdictElement.innerText = "You are paying the bank for the privilege of holding this plastic.";
    } else if (effective < 0) {
      // Winning money
      resultElement.innerText = "+$" + Math.abs(effective);
      resultElement.style.color = "#6bff86"; // Green
      verdictElement.innerText = "Nice. You're beating the system.";
    } else {
      // Break even
      resultElement.innerText = "$0";
      resultElement.style.color = "#fff";
      verdictElement.innerText = "You broke even. A perfect wash.";
    }
    
    if (fee === 0 && totalCredits === 0) {
       resultElement.innerText = "--";
       verdictElement.innerText = "Enter your numbers...";
       resultElement.style.color = "#fff";
    }
  }
  </script>
  
